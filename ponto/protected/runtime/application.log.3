2016/08/19 19:24:47 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65020',
  'REDIRECT_URL' => '/ponto/gerencia/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/gerencia/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645487.258,
  'REQUEST_TIME' => 1471645487,
)
2016/08/19 19:24:47 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:24:47 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:24:47 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:24:47 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:24:47 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:24:47 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:24:47 [trace] [system.web.filters.CFilterChain] Running filter GerenciaController.filteraccessControl()
2016/08/19 19:24:47 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:24:47 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:24:47 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:24:47 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:24:47 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Ponto.count()
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Ponto.count() eagerly
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ponto`) FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`) 
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Ponto.findAll()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ponto` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`ambiente_registro` AS `t0_c9`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0` FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  ORDER BY `t`.`nr_ponto` DESC LIMIT 20
2016/08/19 19:24:47 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:24:47 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:24:47 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:24:47 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:24:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:25:12 [info] [application] User: 1 (ID: 1)

$_GET=array (
  'v' => '1',
  'n' => '3',
  'td' => '',
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65024',
  'REDIRECT_QUERY_STRING' => 'v=1&n=3&td=',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => 'v=1&n=3&td=',
  'REQUEST_URI' => '/ponto/ajuste/pedido/?v=1&n=3&td=',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645511.993,
  'REQUEST_TIME' => 1471645511,
)
2016/08/19 19:25:12 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:25:12 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:25:12 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:25:12 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:25:12 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:25:12 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:25:12 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:25:12 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:25:12 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:25:12 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:12 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() and DadosFuncionais.nr_vinculo = 1)  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Ponto.findByPk()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ponto` `t` WHERE `t`.`nr_ponto`=3 LIMIT 1
2016/08/19 19:25:12 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:25:12 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:25:12 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:25:12 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:25:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:25:22 [info] [application] User: 1 (ID: 1)

$_POST=array (
  'nrPonto' => '3',
  'nrVinculo' => '1',
  'tipo' => 'E',
  'data' => '16/08/2016',
  'hora' => '08:26',
  'horaSaida' => '',
  'justificativa' => 'o',
  'outraJustificativa' => 'aebebbngfn',
)

$_FILES=array (
  'anexos' => 
  array (
    'name' => 
    array (
      0 => '',
    ),
    'type' => 
    array (
      0 => '',
    ),
    'tmp_name' => 
    array (
      0 => '',
    ),
    'error' => 
    array (
      0 => 4,
    ),
    'size' => 
    array (
      0 => 0,
    ),
  ),
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'CONTENT_LENGTH' => '985',
  'HTTP_ACCEPT' => 'application/json, text/javascript, */*; q=0.01',
  'HTTP_ORIGIN' => 'http://localhost:8080',
  'HTTP_X_REQUESTED_WITH' => 'XMLHttpRequest',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'CONTENT_TYPE' => 'multipart/form-data; boundary=----WebKitFormBoundaryOeNkOMsWgAG41Lc0',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=3&td=',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65027',
  'REDIRECT_URL' => '/ponto//ajuste/enviarPedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'POST',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto//ajuste/enviarPedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645522.7,
  'REQUEST_TIME' => 1471645522,
)
2016/08/19 19:25:22 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:25:22 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:25:22 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:25:22 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:25:22 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:25:22 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:25:22 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:25:22 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:25:22 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:25:22 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:25:22 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:25:22 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:25:22 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:22 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:22 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:25:22 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadoFuncional`.`matricula` AS `t1_c0`, `DadoFuncional`.`nr_vinculo` AS `t1_c1`, `DadoFuncional`.`id_pessoa` AS `t1_c2`, `DadoFuncional`.`regime_trabalho` AS `t1_c3`, `DadoFuncional`.`id_grupo` AS `t1_c4`, `DadoFuncional`.`id_categoria` AS `t1_c5`, `DadoFuncional`.`orgao_lotacao` AS `t1_c6`, `DadoFuncional`.`orgao_exercicio` AS `t1_c7`, `DadoFuncional`.`data_ingresso` AS `t1_c8`, `DadoFuncional`.`data_desligamento` AS `t1_c9`, `DadoFuncional`.`data_aposentadoria` AS `t1_c10` FROM `pessoa` `t`  inner join `dado_funcional` `DadoFuncional` ON (`DadoFuncional`.`id_pessoa`=`t`.`id_pessoa`) AND (DadoFuncional.nr_vinculo = 1)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:25:22 [trace] [system.db.CDbConnection] Starting transaction
2016/08/19 19:25:22 [trace] [system.db.ar.CActiveRecord] Ajuste.insert()
2016/08/19 19:25:22 [trace] [system.db.CDbCommand] Executing SQL: INSERT INTO `ajuste` (`data_hora_ponto`, `entrada_saida`, `nr_ponto`, `id_pessoa`, `matricula`, `nr_vinculo`, `id_pessoa_registro`, `data_hora_registro`, `ip_registro`, `justificativa`, `nr_justificativa`) VALUES (:yp0, :yp1, :yp2, :yp3, :yp4, :yp5, :yp6, CURRENT_TIMESTAMP(), :yp7, :yp8, :yp9)
2016/08/19 19:25:22 [trace] [system.db.CDbTransaction] Committing transaction
2016/08/19 19:25:24 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=3&td=',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65027',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido/',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645524.833,
  'REQUEST_TIME' => 1471645524,
)
2016/08/19 19:25:24 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:25:24 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:25:24 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:25:24 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:25:24 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:25:24 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:25:24 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:25:24 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:25:24 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:25:24 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:24 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:25:24 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste`=3)
2016/08/19 19:25:24 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:25:24 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:25:24 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:25:24 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:25:24 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:25:29 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65027',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645529.048,
  'REQUEST_TIME' => 1471645529,
)
2016/08/19 19:25:29 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:25:29 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:25:29 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:25:29 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:25:29 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:25:29 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:25:29 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:25:29 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:25:29 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:25:29 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:29 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:25:29 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:25:29 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:25:29 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:25:39 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_CACHE_CONTROL' => 'max-age=0',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65032',
  'REDIRECT_URL' => '/ponto/gerencia/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/gerencia/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645539.217,
  'REQUEST_TIME' => 1471645539,
)
2016/08/19 19:25:39 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:25:39 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:25:39 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:25:39 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:25:39 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:25:39 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:25:39 [trace] [system.web.filters.CFilterChain] Running filter GerenciaController.filteraccessControl()
2016/08/19 19:25:39 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:25:39 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:25:39 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:25:39 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:25:39 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Ponto.count()
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Ponto.count() eagerly
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ponto`) FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`) 
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Ponto.findAll()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ponto` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`ambiente_registro` AS `t0_c9`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0` FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  ORDER BY `t`.`nr_ponto` DESC LIMIT 20
2016/08/19 19:25:39 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:25:39 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:25:39 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste`=3)
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] lazy loading Ajuste.Ponto
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `Ponto`.`nr_ponto` AS `t1_c0`, `Ponto`.`id_pessoa` AS `t1_c1`, `Ponto`.`matricula` AS `t1_c2`, `Ponto`.`nr_vinculo` AS `t1_c3`, `Ponto`.`data_hora_ponto` AS `t1_c4`, `Ponto`.`entrada_saida` AS `t1_c5`, `Ponto`.`id_pessoa_registro` AS `t1_c6`, `Ponto`.`data_hora_registro` AS `t1_c7`, `Ponto`.`ip_registro` AS `t1_c8`, `Ponto`.`ambiente_registro` AS `t1_c9` FROM `ponto` `Ponto`  WHERE (`Ponto`.`nr_ponto`=:ypl0)
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:25:39 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:25:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:26:15 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_CACHE_CONTROL' => 'max-age=0',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65039',
  'REDIRECT_URL' => '/ponto/gerencia/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/gerencia/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645575.536,
  'REQUEST_TIME' => 1471645575,
)
2016/08/19 19:26:15 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:26:15 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:26:15 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:26:15 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:26:15 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:26:15 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:26:15 [trace] [system.web.filters.CFilterChain] Running filter GerenciaController.filteraccessControl()
2016/08/19 19:26:15 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:26:15 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:26:15 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:26:15 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:26:15 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Ponto.count()
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Ponto.count() eagerly
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ponto`) FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`) 
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Ponto.findAll()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ponto` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`ambiente_registro` AS `t0_c9`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0` FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  ORDER BY `t`.`nr_ponto` DESC LIMIT 20
2016/08/19 19:26:15 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:26:15 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:26:15 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste`=3)
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] lazy loading Ajuste.Ponto
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT `Ponto`.`nr_ponto` AS `t1_c0`, `Ponto`.`id_pessoa` AS `t1_c1`, `Ponto`.`matricula` AS `t1_c2`, `Ponto`.`nr_vinculo` AS `t1_c3`, `Ponto`.`data_hora_ponto` AS `t1_c4`, `Ponto`.`entrada_saida` AS `t1_c5`, `Ponto`.`id_pessoa_registro` AS `t1_c6`, `Ponto`.`data_hora_registro` AS `t1_c7`, `Ponto`.`ip_registro` AS `t1_c8`, `Ponto`.`ambiente_registro` AS `t1_c9` FROM `ponto` `Ponto`  WHERE (`Ponto`.`nr_ponto`=:ypl0)
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:26:15 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:26:15 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:26:20 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/gerencia/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65040',
  'REDIRECT_URL' => '/ponto/ajuste/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645580.04,
  'REQUEST_TIME' => 1471645580,
)
2016/08/19 19:26:20 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:26:20 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:26:20 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:26:20 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:26:20 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:26:20 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:26:20 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:26:20 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:26:20 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:26:20 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:26:20 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:26:20 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste`=3)
2016/08/19 19:26:20 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:26:20 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:26:20 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:26:20 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:26:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:28:34 [info] [application] User: 1 (ID: 1)

$_GET=array (
  'v' => '1',
  'n' => '0',
  'td' => 'S|16/08/2016',
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65055',
  'REDIRECT_QUERY_STRING' => 'v=1&n=0&td=S|16/08/2016',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => 'v=1&n=0&td=S|16/08/2016',
  'REQUEST_URI' => '/ponto/ajuste/pedido/?v=1&n=0&td=S|16/08/2016',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645714.241,
  'REQUEST_TIME' => 1471645714,
)
2016/08/19 19:28:34 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:28:34 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:28:34 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:28:34 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:28:34 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:28:34 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:28:34 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:28:34 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:28:34 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:28:34 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:34 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() and DadosFuncionais.nr_vinculo = 1)  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Ponto.findByPk()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ponto` `t` WHERE `t`.`nr_ponto`=0 LIMIT 1
2016/08/19 19:28:34 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste`=3)
2016/08/19 19:28:34 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:28:34 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:28:34 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:28:34 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:28:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:28:45 [info] [application] User: 1 (ID: 1)

$_POST=array (
  'nrPonto' => '0',
  'nrVinculo' => '1',
  'tipo' => 'S',
  'data' => '16/08/2016',
  'hora' => '14:30',
  'horaSaida' => '',
  'justificativa' => 'o',
  'outraJustificativa' => 'Não sei',
)

$_FILES=array (
  'anexos' => 
  array (
    'name' => 
    array (
      0 => '',
    ),
    'type' => 
    array (
      0 => '',
    ),
    'tmp_name' => 
    array (
      0 => '',
    ),
    'error' => 
    array (
      0 => 4,
    ),
    'size' => 
    array (
      0 => 0,
    ),
  ),
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'CONTENT_LENGTH' => '983',
  'HTTP_ACCEPT' => 'application/json, text/javascript, */*; q=0.01',
  'HTTP_ORIGIN' => 'http://localhost:8080',
  'HTTP_X_REQUESTED_WITH' => 'XMLHttpRequest',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'CONTENT_TYPE' => 'multipart/form-data; boundary=----WebKitFormBoundaryAlIN8ysvoTXD4sBN',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=0&td=S|16/08/2016',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65058',
  'REDIRECT_URL' => '/ponto//ajuste/enviarPedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'POST',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto//ajuste/enviarPedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645725.474,
  'REQUEST_TIME' => 1471645725,
)
2016/08/19 19:28:45 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:28:45 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:28:45 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:28:45 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:28:45 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:28:45 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:28:45 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:28:45 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:28:45 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:28:45 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:28:45 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:28:45 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:28:45 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:45 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:45 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:28:45 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadoFuncional`.`matricula` AS `t1_c0`, `DadoFuncional`.`nr_vinculo` AS `t1_c1`, `DadoFuncional`.`id_pessoa` AS `t1_c2`, `DadoFuncional`.`regime_trabalho` AS `t1_c3`, `DadoFuncional`.`id_grupo` AS `t1_c4`, `DadoFuncional`.`id_categoria` AS `t1_c5`, `DadoFuncional`.`orgao_lotacao` AS `t1_c6`, `DadoFuncional`.`orgao_exercicio` AS `t1_c7`, `DadoFuncional`.`data_ingresso` AS `t1_c8`, `DadoFuncional`.`data_desligamento` AS `t1_c9`, `DadoFuncional`.`data_aposentadoria` AS `t1_c10` FROM `pessoa` `t`  inner join `dado_funcional` `DadoFuncional` ON (`DadoFuncional`.`id_pessoa`=`t`.`id_pessoa`) AND (DadoFuncional.nr_vinculo = 1)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:28:45 [trace] [system.db.CDbConnection] Starting transaction
2016/08/19 19:28:45 [trace] [system.db.ar.CActiveRecord] Ajuste.insert()
2016/08/19 19:28:45 [trace] [system.db.CDbCommand] Executing SQL: INSERT INTO `ajuste` (`data_hora_ponto`, `entrada_saida`, `nr_ponto`, `id_pessoa`, `matricula`, `nr_vinculo`, `id_pessoa_registro`, `data_hora_registro`, `ip_registro`, `justificativa`, `nr_justificativa`) VALUES (:yp0, :yp1, :yp2, :yp3, :yp4, :yp5, :yp6, CURRENT_TIMESTAMP(), :yp7, :yp8, :yp9)
2016/08/19 19:28:45 [trace] [system.db.CDbTransaction] Committing transaction
2016/08/19 19:28:47 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=0&td=S|16/08/2016',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65058',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido/',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645727.669,
  'REQUEST_TIME' => 1471645727,
)
2016/08/19 19:28:47 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:28:47 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:28:47 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:28:47 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:28:47 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:28:47 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:28:47 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:28:47 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:28:47 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:28:47 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:47 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:28:47 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (4, 3))
2016/08/19 19:28:47 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:28:47 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:28:47 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:28:47 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:28:47 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:28:51 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65058',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645731.151,
  'REQUEST_TIME' => 1471645731,
)
2016/08/19 19:28:51 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:28:51 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:28:51 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:28:51 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:28:51 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:28:51 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:28:51 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:28:51 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:28:51 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:28:51 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:28:51 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:28:51 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:28:51 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:28:51 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:29:09 [info] [application] User: 1 (ID: 1)

$_GET=array (
  'v' => '1',
  'n' => '4',
  'td' => '',
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65064',
  'REDIRECT_QUERY_STRING' => 'v=1&n=4&td=',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => 'v=1&n=4&td=',
  'REQUEST_URI' => '/ponto/ajuste/pedido/?v=1&n=4&td=',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645749.615,
  'REQUEST_TIME' => 1471645749,
)
2016/08/19 19:29:09 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:09 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:09 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:09 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:09 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:09 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:09 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:09 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:09 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:09 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:09 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() and DadosFuncionais.nr_vinculo = 1)  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Ponto.findByPk()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ponto` `t` WHERE `t`.`nr_ponto`=4 LIMIT 1
2016/08/19 19:29:09 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (4, 3))
2016/08/19 19:29:09 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:29:09 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:29:09 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:09 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:29:09 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:17 [info] [application] User: 1 (ID: 1)

$_POST=array (
  'nrPonto' => '4',
  'nrVinculo' => '1',
  'tipo' => 'S',
  'data' => '19/08/2016',
  'hora' => '18:45',
  'horaSaida' => '',
  'justificativa' => 'o',
  'outraJustificativa' => 'fdsbhfdhf',
)

$_FILES=array (
  'anexos' => 
  array (
    'name' => 
    array (
      0 => '',
    ),
    'type' => 
    array (
      0 => '',
    ),
    'tmp_name' => 
    array (
      0 => '',
    ),
    'error' => 
    array (
      0 => 4,
    ),
    'size' => 
    array (
      0 => 0,
    ),
  ),
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'CONTENT_LENGTH' => '984',
  'HTTP_ACCEPT' => 'application/json, text/javascript, */*; q=0.01',
  'HTTP_ORIGIN' => 'http://localhost:8080',
  'HTTP_X_REQUESTED_WITH' => 'XMLHttpRequest',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'CONTENT_TYPE' => 'multipart/form-data; boundary=----WebKitFormBoundarynxQydYpBQBEBXi6c',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=4&td=',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65067',
  'REDIRECT_URL' => '/ponto//ajuste/enviarPedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'POST',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto//ajuste/enviarPedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645757.298,
  'REQUEST_TIME' => 1471645757,
)
2016/08/19 19:29:17 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:17 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:17 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:17 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:17 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:17 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:17 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:17 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:17 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:17 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:17 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:17 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:17 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:17 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:17 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:17 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadoFuncional`.`matricula` AS `t1_c0`, `DadoFuncional`.`nr_vinculo` AS `t1_c1`, `DadoFuncional`.`id_pessoa` AS `t1_c2`, `DadoFuncional`.`regime_trabalho` AS `t1_c3`, `DadoFuncional`.`id_grupo` AS `t1_c4`, `DadoFuncional`.`id_categoria` AS `t1_c5`, `DadoFuncional`.`orgao_lotacao` AS `t1_c6`, `DadoFuncional`.`orgao_exercicio` AS `t1_c7`, `DadoFuncional`.`data_ingresso` AS `t1_c8`, `DadoFuncional`.`data_desligamento` AS `t1_c9`, `DadoFuncional`.`data_aposentadoria` AS `t1_c10` FROM `pessoa` `t`  inner join `dado_funcional` `DadoFuncional` ON (`DadoFuncional`.`id_pessoa`=`t`.`id_pessoa`) AND (DadoFuncional.nr_vinculo = 1)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:17 [trace] [system.db.CDbConnection] Starting transaction
2016/08/19 19:29:17 [trace] [system.db.ar.CActiveRecord] Ajuste.insert()
2016/08/19 19:29:17 [trace] [system.db.CDbCommand] Executing SQL: INSERT INTO `ajuste` (`data_hora_ponto`, `entrada_saida`, `nr_ponto`, `id_pessoa`, `matricula`, `nr_vinculo`, `id_pessoa_registro`, `data_hora_registro`, `ip_registro`, `justificativa`, `nr_justificativa`) VALUES (:yp0, :yp1, :yp2, :yp3, :yp4, :yp5, :yp6, CURRENT_TIMESTAMP(), :yp7, :yp8, :yp9)
2016/08/19 19:29:17 [trace] [system.db.CDbTransaction] Committing transaction
2016/08/19 19:29:19 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=4&td=',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65067',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido/',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645759.498,
  'REQUEST_TIME' => 1471645759,
)
2016/08/19 19:29:19 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:19 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:19 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:19 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:19 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:19 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:19 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:19 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:19 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:19 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:19 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:29:19 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (5, 4, 3))
2016/08/19 19:29:19 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:29:19 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:29:19 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:19 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:29:19 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:38 [info] [application] User: 1 (ID: 1)

$_POST=array (
  'nrPonto' => '',
  'nrVinculo' => '1',
  'tipo' => 'P',
  'data' => '19/08/2016',
  'hora' => '08:20',
  'horaSaida' => '13:00',
  'justificativa' => 'o',
  'outraJustificativa' => 'dasfsfsd',
)

$_FILES=array (
  'anexos' => 
  array (
    'name' => 
    array (
      0 => '',
    ),
    'type' => 
    array (
      0 => '',
    ),
    'tmp_name' => 
    array (
      0 => '',
    ),
    'error' => 
    array (
      0 => 4,
    ),
    'size' => 
    array (
      0 => 0,
    ),
  ),
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'CONTENT_LENGTH' => '987',
  'HTTP_ACCEPT' => 'application/json, text/javascript, */*; q=0.01',
  'HTTP_ORIGIN' => 'http://localhost:8080',
  'HTTP_X_REQUESTED_WITH' => 'XMLHttpRequest',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'CONTENT_TYPE' => 'multipart/form-data; boundary=----WebKitFormBoundaryeqFFLaGqCjLp54Sy',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65072',
  'REDIRECT_URL' => '/ponto//ajuste/enviarPedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'POST',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto//ajuste/enviarPedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645778.106,
  'REQUEST_TIME' => 1471645778,
)
2016/08/19 19:29:38 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:38 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:38 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:38 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:38 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:38 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:38 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:38 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:38 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:38 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:38 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:38 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:38 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadoFuncional`.`matricula` AS `t1_c0`, `DadoFuncional`.`nr_vinculo` AS `t1_c1`, `DadoFuncional`.`id_pessoa` AS `t1_c2`, `DadoFuncional`.`regime_trabalho` AS `t1_c3`, `DadoFuncional`.`id_grupo` AS `t1_c4`, `DadoFuncional`.`id_categoria` AS `t1_c5`, `DadoFuncional`.`orgao_lotacao` AS `t1_c6`, `DadoFuncional`.`orgao_exercicio` AS `t1_c7`, `DadoFuncional`.`data_ingresso` AS `t1_c8`, `DadoFuncional`.`data_desligamento` AS `t1_c9`, `DadoFuncional`.`data_aposentadoria` AS `t1_c10` FROM `pessoa` `t`  inner join `dado_funcional` `DadoFuncional` ON (`DadoFuncional`.`id_pessoa`=`t`.`id_pessoa`) AND (DadoFuncional.nr_vinculo = 1)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:38 [trace] [system.db.CDbConnection] Starting transaction
2016/08/19 19:29:38 [trace] [system.db.ar.CActiveRecord] Ajuste.insert()
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Executing SQL: INSERT INTO `ajuste` (`data_hora_ponto`, `entrada_saida`, `nr_ponto`, `id_pessoa`, `matricula`, `nr_vinculo`, `id_pessoa_registro`, `data_hora_registro`, `ip_registro`, `justificativa`, `nr_justificativa`) VALUES (:yp0, :yp1, :yp2, :yp3, :yp4, :yp5, :yp6, CURRENT_TIMESTAMP(), :yp7, :yp8, :yp9)
2016/08/19 19:29:38 [trace] [system.db.ar.CActiveRecord] Ajuste.insert()
2016/08/19 19:29:38 [trace] [system.db.CDbCommand] Executing SQL: INSERT INTO `ajuste` (`data_hora_ponto`, `entrada_saida`, `id_pessoa`, `matricula`, `nr_vinculo`, `id_pessoa_registro`, `data_hora_registro`, `ip_registro`, `justificativa`, `nr_justificativa`) VALUES (:yp0, :yp1, :yp2, :yp3, :yp4, :yp5, CURRENT_TIMESTAMP(), :yp6, :yp7, :yp8)
2016/08/19 19:29:38 [trace] [system.db.CDbTransaction] Committing transaction
2016/08/19 19:29:40 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65072',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido/',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645780.3,
  'REQUEST_TIME' => 1471645780,
)
2016/08/19 19:29:40 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:40 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:40 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:40 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:40 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:40 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:40 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:40 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:40 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:40 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:40 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:29:40 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (6, 7, 5, 4, 3))
2016/08/19 19:29:40 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:29:40 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:29:40 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:40 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:29:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:42 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65072',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645782.919,
  'REQUEST_TIME' => 1471645782,
)
2016/08/19 19:29:42 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:42 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:42 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:42 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:42 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:42 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:42 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:29:42 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:42 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:42 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:42 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:42 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:42 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:42 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:42 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:42 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:42 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:29:43 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:29:43 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:29:43 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:29:45 [info] [application] User: 1 (ID: 1)

$_GET=array (
  'v' => '1',
  'n' => '0',
  'td' => 'E|19/08/2016',
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65072',
  'REDIRECT_QUERY_STRING' => 'v=1&n=0&td=E|19/08/2016',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => 'v=1&n=0&td=E|19/08/2016',
  'REQUEST_URI' => '/ponto/ajuste/pedido/?v=1&n=0&td=E|19/08/2016',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645785.847,
  'REQUEST_TIME' => 1471645785,
)
2016/08/19 19:29:45 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:45 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:45 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:45 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:45 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:45 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:45 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:45 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:45 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:45 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:45 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() and DadosFuncionais.nr_vinculo = 1)  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Ponto.findByPk()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ponto` `t` WHERE `t`.`nr_ponto`=0 LIMIT 1
2016/08/19 19:29:45 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (6, 7, 5, 4, 3))
2016/08/19 19:29:45 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:29:45 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:29:45 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:45 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:29:45 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:52 [info] [application] User: 1 (ID: 1)

$_POST=array (
  'nrPonto' => '0',
  'nrVinculo' => '1',
  'tipo' => 'E',
  'data' => '19/08/2016',
  'hora' => '14:00',
  'horaSaida' => '',
  'justificativa' => 'o',
  'outraJustificativa' => 'dfswgfdsgf',
)

$_FILES=array (
  'anexos' => 
  array (
    'name' => 
    array (
      0 => '',
    ),
    'type' => 
    array (
      0 => '',
    ),
    'tmp_name' => 
    array (
      0 => '',
    ),
    'error' => 
    array (
      0 => 4,
    ),
    'size' => 
    array (
      0 => 0,
    ),
  ),
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'CONTENT_LENGTH' => '985',
  'HTTP_ACCEPT' => 'application/json, text/javascript, */*; q=0.01',
  'HTTP_ORIGIN' => 'http://localhost:8080',
  'HTTP_X_REQUESTED_WITH' => 'XMLHttpRequest',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'CONTENT_TYPE' => 'multipart/form-data; boundary=----WebKitFormBoundaryLWl9nCF0AKAbiIyu',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=0&td=E|19/08/2016',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65078',
  'REDIRECT_URL' => '/ponto//ajuste/enviarPedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'POST',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto//ajuste/enviarPedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645792.938,
  'REQUEST_TIME' => 1471645792,
)
2016/08/19 19:29:52 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:52 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:52 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:52 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:52 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:52 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:52 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:52 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:52 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:52 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:52 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:52 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:52 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:52 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:52 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:52 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:52 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:53 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:53 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:53 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:53 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:53 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadoFuncional`.`matricula` AS `t1_c0`, `DadoFuncional`.`nr_vinculo` AS `t1_c1`, `DadoFuncional`.`id_pessoa` AS `t1_c2`, `DadoFuncional`.`regime_trabalho` AS `t1_c3`, `DadoFuncional`.`id_grupo` AS `t1_c4`, `DadoFuncional`.`id_categoria` AS `t1_c5`, `DadoFuncional`.`orgao_lotacao` AS `t1_c6`, `DadoFuncional`.`orgao_exercicio` AS `t1_c7`, `DadoFuncional`.`data_ingresso` AS `t1_c8`, `DadoFuncional`.`data_desligamento` AS `t1_c9`, `DadoFuncional`.`data_aposentadoria` AS `t1_c10` FROM `pessoa` `t`  inner join `dado_funcional` `DadoFuncional` ON (`DadoFuncional`.`id_pessoa`=`t`.`id_pessoa`) AND (DadoFuncional.nr_vinculo = 1)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:53 [trace] [system.db.CDbConnection] Starting transaction
2016/08/19 19:29:53 [trace] [system.db.ar.CActiveRecord] Ajuste.insert()
2016/08/19 19:29:53 [trace] [system.db.CDbCommand] Executing SQL: INSERT INTO `ajuste` (`data_hora_ponto`, `entrada_saida`, `nr_ponto`, `id_pessoa`, `matricula`, `nr_vinculo`, `id_pessoa_registro`, `data_hora_registro`, `ip_registro`, `justificativa`, `nr_justificativa`) VALUES (:yp0, :yp1, :yp2, :yp3, :yp4, :yp5, :yp6, CURRENT_TIMESTAMP(), :yp7, :yp8, :yp9)
2016/08/19 19:29:53 [trace] [system.db.CDbTransaction] Committing transaction
2016/08/19 19:29:55 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/?v=1&n=0&td=E|19/08/2016',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65078',
  'REDIRECT_URL' => '/ponto/ajuste/pedido/',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido/',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645795.145,
  'REQUEST_TIME' => 1471645795,
)
2016/08/19 19:29:55 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:55 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:55 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:55 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:55 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:55 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:55 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:29:55 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:55 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:55 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:55 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:29:55 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (8, 6, 7, 5, 4, 3))
2016/08/19 19:29:55 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:29:55 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:29:55 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:29:55 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:29:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:29:57 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido/',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65078',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645797.102,
  'REQUEST_TIME' => 1471645797,
)
2016/08/19 19:29:57 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:29:57 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:29:57 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:29:57 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:29:57 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:29:57 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:29:57 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:29:57 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:29:57 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:29:57 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:29:57 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:29:57 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:29:57 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:29:57 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:30:01 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65078',
  'REDIRECT_URL' => '/ponto/gerencia/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/gerencia/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645801.359,
  'REQUEST_TIME' => 1471645801,
)
2016/08/19 19:30:01 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:30:01 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:30:01 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:30:01 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:30:01 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:30:01 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:30:01 [trace] [system.web.filters.CFilterChain] Running filter GerenciaController.filteraccessControl()
2016/08/19 19:30:01 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:30:01 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:30:01 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:30:01 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ponto`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ponto`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:30:01 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Ponto.count()
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Ponto.count() eagerly
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ponto`) FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`) 
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Ponto.findAll()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ponto` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`ambiente_registro` AS `t0_c9`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0` FROM `ponto` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  ORDER BY `t`.`nr_ponto` DESC LIMIT 20
2016/08/19 19:30:01 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:30:01 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:30:01 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (8, 6, 7, 5, 4, 3))
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] lazy loading Ajuste.Ponto
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `Ponto`.`nr_ponto` AS `t1_c0`, `Ponto`.`id_pessoa` AS `t1_c1`, `Ponto`.`matricula` AS `t1_c2`, `Ponto`.`nr_vinculo` AS `t1_c3`, `Ponto`.`data_hora_ponto` AS `t1_c4`, `Ponto`.`entrada_saida` AS `t1_c5`, `Ponto`.`id_pessoa_registro` AS `t1_c6`, `Ponto`.`data_hora_registro` AS `t1_c7`, `Ponto`.`ip_registro` AS `t1_c8`, `Ponto`.`ambiente_registro` AS `t1_c9` FROM `ponto` `Ponto`  WHERE (`Ponto`.`nr_ponto`=:ypl0)
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] lazy loading Ajuste.Ponto
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `Ponto`.`nr_ponto` AS `t1_c0`, `Ponto`.`id_pessoa` AS `t1_c1`, `Ponto`.`matricula` AS `t1_c2`, `Ponto`.`nr_vinculo` AS `t1_c3`, `Ponto`.`data_hora_ponto` AS `t1_c4`, `Ponto`.`entrada_saida` AS `t1_c5`, `Ponto`.`id_pessoa_registro` AS `t1_c6`, `Ponto`.`data_hora_registro` AS `t1_c7`, `Ponto`.`ip_registro` AS `t1_c8`, `Ponto`.`ambiente_registro` AS `t1_c9` FROM `ponto` `Ponto`  WHERE (`Ponto`.`nr_ponto`=:ypl0)
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N')
2016/08/19 19:30:01 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:30:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (coalesce(t.indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 20
2016/08/19 19:30:10 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/gerencia/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65084',
  'REDIRECT_URL' => '/ponto/calendario/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/calendario/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645810.663,
  'REQUEST_TIME' => 1471645810,
)
2016/08/19 19:30:10 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:30:10 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:30:10 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:30:10 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:30:10 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:30:10 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:30:10 [trace] [system.web.filters.CFilterChain] Running filter CalendarioController.filteraccessControl()
2016/08/19 19:30:10 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:30:10 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:30:10 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:30:10 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:30:10 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:30:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:30:10 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:30:12 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/calendario/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65084',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645812.854,
  'REQUEST_TIME' => 1471645812,
)
2016/08/19 19:30:12 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:30:12 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:30:12 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:30:12 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:30:12 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:30:12 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:30:12 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:30:12 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:30:12 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:30:12 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:30:12 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:30:12 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:30:12 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:30:13 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:30:13 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:30:13 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:30:13 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:30:13 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:31:03 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_CACHE_CONTROL' => 'max-age=0',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/calendario/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65094',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645863.567,
  'REQUEST_TIME' => 1471645863,
)
2016/08/19 19:31:03 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:31:03 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:31:03 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:31:03 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:31:03 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:31:03 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:31:03 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:31:03 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:31:03 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:31:03 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:03 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:31:03 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:31:03 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:31:03 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:31:16 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65103',
  'REDIRECT_URL' => '/ponto/calendario/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/calendario/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645876.855,
  'REQUEST_TIME' => 1471645876,
)
2016/08/19 19:31:16 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:31:16 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:31:16 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:31:16 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:31:16 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:31:16 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:31:16 [trace] [system.web.filters.CFilterChain] Running filter CalendarioController.filteraccessControl()
2016/08/19 19:31:16 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:31:16 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:31:16 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:16 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:31:16 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:16 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:31:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:31:17 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:31:33 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_CACHE_CONTROL' => 'max-age=0',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65105',
  'REDIRECT_URL' => '/ponto/calendario/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/calendario/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645893.206,
  'REQUEST_TIME' => 1471645893,
)
2016/08/19 19:31:33 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:31:33 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:31:33 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:31:33 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:31:33 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:31:33 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:31:33 [trace] [system.web.filters.CFilterChain] Running filter CalendarioController.filteraccessControl()
2016/08/19 19:31:33 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:31:33 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:31:33 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:33 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:31:33 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:31:33 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:31:33 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:31:37 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/calendario/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65105',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645897.271,
  'REQUEST_TIME' => 1471645897,
)
2016/08/19 19:31:37 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:31:37 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:31:37 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:31:37 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:31:37 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:31:37 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:31:37 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:31:37 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:31:37 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:31:37 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:37 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:31:37 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:31:37 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:31:37 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:31:38 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65105',
  'REDIRECT_URL' => '/ponto/ajuste/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645898.695,
  'REQUEST_TIME' => 1471645898,
)
2016/08/19 19:31:38 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:31:38 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:31:38 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:31:38 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:31:38 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:31:38 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:31:38 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:31:38 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:31:38 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:31:38 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:38 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:31:38 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (8, 6, 7, 5, 4, 3))
2016/08/19 19:31:38 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:31:38 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:31:38 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:31:38 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:31:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:31:39 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65105',
  'REDIRECT_URL' => '/ponto/calendario/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/calendario/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645899.358,
  'REQUEST_TIME' => 1471645899,
)
2016/08/19 19:31:39 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:31:39 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:31:39 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:31:39 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:31:39 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:31:39 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:31:39 [trace] [system.web.filters.CFilterChain] Running filter CalendarioController.filteraccessControl()
2016/08/19 19:31:39 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:31:39 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:31:39 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:39 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:31:39 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:31:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:31:39 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:31:40 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/calendario/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65105',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471645900.222,
  'REQUEST_TIME' => 1471645900,
)
2016/08/19 19:31:40 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:31:40 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:31:40 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:31:40 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:31:40 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:31:40 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:31:40 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:31:40 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:31:40 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:31:40 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:31:40 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:31:40 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:31:40 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:31:40 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:35:54 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_CACHE_CONTROL' => 'max-age=0',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/calendario/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65158',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646154.821,
  'REQUEST_TIME' => 1471646154,
)
2016/08/19 19:35:54 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:35:54 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:35:54 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:35:54 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:35:54 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:35:54 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:35:54 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:35:54 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:35:54 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:35:54 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:35:54 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:35:54 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:35:54 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:35:54 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:35:54 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:35:54 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:35:54 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:35:55 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:35:55 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:35:55 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:25 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65189',
  'REDIRECT_URL' => '/ponto/calendario/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/calendario/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646305.549,
  'REQUEST_TIME' => 1471646305,
)
2016/08/19 19:38:25 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:25 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:25 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:25 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:25 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:25 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:25 [trace] [system.web.filters.CFilterChain] Running filter CalendarioController.filteraccessControl()
2016/08/19 19:38:25 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:25 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:25 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:25 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:38:25 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:38:25 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:38:25 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:31 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/calendario/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/ajuste/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646311.27,
  'REQUEST_TIME' => 1471646311,
)
2016/08/19 19:38:31 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:31 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:31 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:31 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:31 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:31 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:31 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:38:31 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:31 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:31 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:31 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:38:31 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (8, 6, 7, 5, 4, 3))
2016/08/19 19:38:31 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:31 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:38:31 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:31 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:31 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:32 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646312.156,
  'REQUEST_TIME' => 1471646312,
)
2016/08/19 19:38:32 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:32 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:32 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:32 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:32 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:32 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:32 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:38:32 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:32 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:32 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:32 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:38:32 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:38:32 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:38:32 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:37 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/compensacao/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/compensacao/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646317.084,
  'REQUEST_TIME' => 1471646317,
)
2016/08/19 19:38:37 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:37 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:37 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:37 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:37 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:37 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:37 [trace] [system.web.filters.CFilterChain] Running filter CompensacaoController.filteraccessControl()
2016/08/19 19:38:37 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:37 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:37 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:37 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:38:37 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] Compensacao.count()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(*) FROM `compensacao` `t` WHERE ((id_pessoa=:ycp0) AND (nr_vinculo=:ycp1)) AND (coalesce(indicador_excluido, 'N') = 'N')
2016/08/19 19:38:37 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:38:37 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE ((id_pessoa=:ycp0) AND (nr_vinculo=:ycp1)) AND (coalesce(indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:37 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:37 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:38:38 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/compensacao/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/ajuste/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646318.356,
  'REQUEST_TIME' => 1471646318,
)
2016/08/19 19:38:38 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:38 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:38 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:38 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:38 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:38 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:38 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:38:38 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:38 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:38 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:38 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:38:38 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (8, 6, 7, 5, 4, 3))
2016/08/19 19:38:38 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:38 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:38:38 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:38 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:38 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:39 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646319.268,
  'REQUEST_TIME' => 1471646319,
)
2016/08/19 19:38:39 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:39 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:39 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:39 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:39 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:39 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:39 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:38:39 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:39 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:39 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:39 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:38:39 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:38:39 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:38:39 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:39 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/ajuste/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646319.98,
  'REQUEST_TIME' => 1471646319,
)
2016/08/19 19:38:39 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:39 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:39 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:39 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:39 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:39 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:39 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:38:40 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:40 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:40 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:40 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:38:40 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (8, 6, 7, 5, 4, 3))
2016/08/19 19:38:40 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:40 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:38:40 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:40 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:40 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:41 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646321.172,
  'REQUEST_TIME' => 1471646321,
)
2016/08/19 19:38:41 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:41 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:41 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:41 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:41 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:41 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:41 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:38:41 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:41 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:41 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:41 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:38:41 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:38:41 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:38:41 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:42 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65192',
  'REDIRECT_URL' => '/ponto/ajuste/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646322.101,
  'REQUEST_TIME' => 1471646322,
)
2016/08/19 19:38:42 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:42 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:42 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:42 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:42 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:42 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:42 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:38:42 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:42 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:42 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:42 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] JustificativaAjuste.findAll()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `justificativa_ajuste` `t` ORDER BY texto_justificativa
2016/08/19 19:38:42 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Ajuste.findAll()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_hora_ponto` AS `t0_c4`, `t`.`entrada_saida` AS `t0_c5`, `t`.`id_pessoa_registro` AS `t0_c6`, `t`.`data_hora_registro` AS `t0_c7`, `t`.`ip_registro` AS `t0_c8`, `t`.`justificativa` AS `t0_c9`, `t`.`id_pessoa_certificacao` AS `t0_c10`, `t`.`data_hora_certificacao` AS `t0_c11`, `t`.`indicador_certificado` AS `t0_c12`, `t`.`nr_ponto` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`justificativa_certificacao` AS `t0_c15`, `t`.`indicador_excluido` AS `t0_c16`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp0) AND (t.nr_vinculo=:ycp1)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_ajuste` AS `t0_c0`, `Arquivos`.`nr_arquivo_ajuste` AS `t7_c0`, `Arquivos`.`nr_ajuste` AS `t7_c1`, `Arquivos`.`nr_abono` AS `t7_c2`, `Arquivos`.`cod_repositorio` AS `t7_c3`, `Arquivos`.`descricao_arquivo` AS `t7_c4` FROM `ajuste` `t` LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  WHERE (`t`.`nr_ajuste` IN (8, 6, 7, 5, 4, 3))
2016/08/19 19:38:42 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:42 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:38:42 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Abono.count()
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Abono.count() eagerly
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_abono`) FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_abono`=`t`.`nr_abono`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N'))
2016/08/19 19:38:42 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:38:42 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_abono` AS `t0_c0`, `t`.`id_pessoa` AS `t0_c1`, `t`.`matricula` AS `t0_c2`, `t`.`nr_vinculo` AS `t0_c3`, `t`.`data_abono` AS `t0_c4`, `t`.`periodo_abono` AS `t0_c5`, `t`.`justificativa` AS `t0_c6`, `t`.`id_pessoa_certificacao` AS `t0_c7`, `t`.`data_hora_certificacao` AS `t0_c8`, `t`.`indicador_certificado` AS `t0_c9`, `t`.`id_pessoa_registro` AS `t0_c10`, `t`.`data_hora_registro` AS `t0_c11`, `t`.`ip_registro` AS `t0_c12`, `t`.`justificativa_certificacao` AS `t0_c13`, `t`.`nr_justificativa` AS `t0_c14`, `t`.`indicador_excluido` AS `t0_c15`, `Pessoa`.`nome_pessoa` AS `t1_c1`, `Pessoa`.`id_pessoa` AS `t1_c0`, `Certificador`.`nome_pessoa` AS `t2_c1`, `Certificador`.`id_pessoa` AS `t2_c0`, `DadoFuncional`.`regime_trabalho` AS `t3_c3`, `DadoFuncional`.`matricula` AS `t3_c0`, `DadoFuncional`.`nr_vinculo` AS `t3_c1`, `CatFuncional`.`nome_categoria` AS `t4_c1`, `CatFuncional`.`id_categoria` AS `t4_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `JustificativaAjuste`.`nr_justificativa` AS `t6_c0`, `JustificativaAjuste`.`texto_justificativa` AS `t6_c1`, `JustificativaAjuste`.`tipo_justificativa` AS `t6_c2` FROM `abono` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  WHERE (((t.id_pessoa=:ycp2) AND (t.nr_vinculo=:ycp3)) AND (coalesce(t.indicador_excluido, 'N') = 'N')) ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:51 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65202',
  'REDIRECT_URL' => '/ponto/compensacao/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/compensacao/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646331.508,
  'REQUEST_TIME' => 1471646331,
)
2016/08/19 19:38:51 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:38:51 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:38:51 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:38:51 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:38:51 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:38:51 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:38:51 [trace] [system.web.filters.CFilterChain] Running filter CompensacaoController.filteraccessControl()
2016/08/19 19:38:51 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:38:51 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:38:51 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:38:51 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:38:51 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] Compensacao.count()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(*) FROM `compensacao` `t` WHERE ((id_pessoa=:ycp0) AND (nr_vinculo=:ycp1)) AND (coalesce(indicador_excluido, 'N') = 'N')
2016/08/19 19:38:51 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:38:51 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE ((id_pessoa=:ycp0) AND (nr_vinculo=:ycp1)) AND (coalesce(indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:38:51 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:38:51 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:39:00 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/compensacao/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65204',
  'REDIRECT_URL' => '/ponto/horarios/horariosOrgaos',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/horarios/horariosOrgaos',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646340.98,
  'REQUEST_TIME' => 1471646340,
)
2016/08/19 19:39:00 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:39:00 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:39:00 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:39:00 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:39:00 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:39:00 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:39:00 [trace] [system.web.filters.CFilterChain] Running filter HorariosController.filteraccessControl()
2016/08/19 19:39:00 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:39:01 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:39:01 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:39:01 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:39:01 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:39:01 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:39:01 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:01 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:01 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:01 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:01 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:39:01 [error] [exception.CDbException] exception 'CDbException' with message 'A Relação "OrgaoUfrgs" não foi definida na classe de active record "Orgao".' in C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveFinder.php:211
Stack trace:
#0 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveFinder.php(281): CActiveFinder->buildJoinTree(Object(CJoinElement), 'OrgaoUfrgs')
#1 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveFinder.php(48): CActiveFinder->buildJoinTree(Object(CJoinElement), Array)
#2 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveRecord.php(1301): CActiveFinder->__construct(Object(Orgao), Array)
#3 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveRecord.php(1416): CActiveRecord->query(Object(CDbCriteria), true)
#4 C:\Users\thiago\Desktop\USBWebserver\root\ponto\protected\controllers\HorariosController.php(36): CActiveRecord->findAll(Array)
#5 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\actions\CInlineAction.php(49): HorariosController->actionHorariosOrgaos()
#6 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#7 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilterChain.php(133): CController->runAction(Object(CInlineAction))
#8 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilter.php(40): CFilterChain->run()
#9 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(1145): CFilter->filter(Object(CFilterChain))
#10 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CInlineFilter.php(58): CController->filterAccessControl(Object(CFilterChain))
#11 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#12 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilter.php(40): CFilterChain->run()
#13 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilterChain.php(130): CFilter->filter(Object(CFilterChain))
#14 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(291): CFilterChain->run()
#15 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#16 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CWebApplication.php(282): CController->run('horariosorgaos')
#17 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CWebApplication.php(141): CWebApplication->runController('horarios/horari...')
#18 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\base\CApplication.php(169): CWebApplication->processRequest()
#19 C:\Users\thiago\Desktop\USBWebserver\root\ponto\index.php(15): CApplication->run()
#20 {main}
REQUEST_URI=/ponto/horarios/horariosOrgaos
HTTP_REFERER=http://localhost:8080/ponto/compensacao/pedido
---
2016/08/19 19:39:01 [trace] [system.CModule] Loading "errorHandler" application component
2016/08/19 19:39:02 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/ajuste/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65206',
  'REDIRECT_URL' => '/ponto/compensacao/pedido',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/compensacao/pedido',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646342.557,
  'REQUEST_TIME' => 1471646342,
)
2016/08/19 19:39:02 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:39:02 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:39:02 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:39:02 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:39:02 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:39:02 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:39:02 [trace] [system.web.filters.CFilterChain] Running filter CompensacaoController.filteraccessControl()
2016/08/19 19:39:02 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:39:02 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:39:02 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:02 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                        and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:39:02 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] Compensacao.count()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(*) FROM `compensacao` `t` WHERE ((id_pessoa=:ycp0) AND (nr_vinculo=:ycp1)) AND (coalesce(indicador_excluido, 'N') = 'N')
2016/08/19 19:39:02 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:39:02 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE ((id_pessoa=:ycp0) AND (nr_vinculo=:ycp1)) AND (coalesce(indicador_excluido, 'N') = 'N') ORDER BY `t`.`data_hora_registro` DESC LIMIT 15
2016/08/19 19:39:02 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:39:02 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:39:04 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/compensacao/pedido',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65206',
  'REDIRECT_URL' => '/ponto/restricao/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/restricao/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646344.949,
  'REQUEST_TIME' => 1471646344,
)
2016/08/19 19:39:04 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:39:04 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:39:04 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:39:04 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:39:04 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:39:04 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:39:04 [trace] [system.web.filters.CFilterChain] Running filter RestricaoController.filteraccessControl()
2016/08/19 19:39:04 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:39:04 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:39:04 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:39:04 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:39:04 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:04 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:39:05 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `restricao_relogio`
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `restricao_relogio`
2016/08/19 19:39:05 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] RestricaoRelogio.count()
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] RestricaoRelogio.count() eagerly
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_restricao`) FROM `restricao_relogio` `t`  LEFT OUTER JOIN `Orgao` `Orgao` ON (`t`.`id_orgao`=`Orgao`.`id_orgao`)  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  WHERE (t.id_orgao is not null)
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] RestricaoRelogio.findAll()
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_restricao` AS `t0_c0`, `t`.`id_orgao` AS `t0_c1`, `t`.`escopo` AS `t0_c2`, `t`.`id_pessoa` AS `t0_c3`, `t`.`mascara_ip_v4` AS `t0_c4`, `t`.`mascara_ip_v6` AS `t0_c5`, `t`.`data_atualizacao` AS `t0_c6`, `t`.`id_pessoa_atualizacao` AS `t0_c7`, `t`.`ip_atualizacao` AS `t0_c8`, `t`.`matricula` AS `t0_c9`, `t`.`nr_vinculo` AS `t0_c10`, `Orgao`.`id_orgao` AS `t1_c0`, `Orgao`.`sigla_orgao` AS `t1_c1`, `Orgao`.`nome_orgao` AS `t1_c2`, `Orgao`.`email` AS `t1_c3`, `Orgao`.`matricula_dirigente` AS `t1_c4`, `Orgao`.`matricula_substituto` AS `t1_c5`, `Orgao`.`id_orgao_superior` AS `t1_c6`, `Pessoa`.`id_pessoa` AS `t2_c0`, `Pessoa`.`nome_pessoa` AS `t2_c1`, `Pessoa`.`email` AS `t2_c2`, `Pessoa`.`tipo_foto` AS `t2_c3` FROM `restricao_relogio` `t`  LEFT OUTER JOIN `Orgao` `Orgao` ON (`t`.`id_orgao`=`Orgao`.`id_orgao`)  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  WHERE (t.id_orgao is not null) ORDER BY Orgao.sigla_orgao desc LIMIT 20
2016/08/19 19:39:05 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:39:05 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:39:05 [trace] [system.CModule] Loading "format" application component
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] RestricaoRelogio.count()
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] RestricaoRelogio.count() eagerly
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_restricao`) FROM `restricao_relogio` `t`  LEFT OUTER JOIN `Orgao` `Orgao` ON (`t`.`id_orgao`=`Orgao`.`id_orgao`)  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  WHERE (t.id_pessoa is not null)
2016/08/19 19:39:05 [trace] [system.db.ar.CActiveRecord] RestricaoRelogio.findAll()
2016/08/19 19:39:05 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`nr_restricao` AS `t0_c0`, `t`.`id_orgao` AS `t0_c1`, `t`.`escopo` AS `t0_c2`, `t`.`id_pessoa` AS `t0_c3`, `t`.`mascara_ip_v4` AS `t0_c4`, `t`.`mascara_ip_v6` AS `t0_c5`, `t`.`data_atualizacao` AS `t0_c6`, `t`.`id_pessoa_atualizacao` AS `t0_c7`, `t`.`ip_atualizacao` AS `t0_c8`, `t`.`matricula` AS `t0_c9`, `t`.`nr_vinculo` AS `t0_c10`, `Orgao`.`id_orgao` AS `t1_c0`, `Orgao`.`sigla_orgao` AS `t1_c1`, `Orgao`.`nome_orgao` AS `t1_c2`, `Orgao`.`email` AS `t1_c3`, `Orgao`.`matricula_dirigente` AS `t1_c4`, `Orgao`.`matricula_substituto` AS `t1_c5`, `Orgao`.`id_orgao_superior` AS `t1_c6`, `Pessoa`.`id_pessoa` AS `t2_c0`, `Pessoa`.`nome_pessoa` AS `t2_c1`, `Pessoa`.`email` AS `t2_c2`, `Pessoa`.`tipo_foto` AS `t2_c3` FROM `restricao_relogio` `t`  LEFT OUTER JOIN `Orgao` `Orgao` ON (`t`.`id_orgao`=`Orgao`.`id_orgao`)  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  WHERE (t.id_pessoa is not null) ORDER BY Orgao.sigla_orgao desc LIMIT 20
2016/08/19 19:39:10 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/restricao/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65207',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646350.933,
  'REQUEST_TIME' => 1471646350,
)
2016/08/19 19:39:10 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:39:10 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:39:10 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:39:10 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:39:10 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:39:10 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:39:10 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:39:10 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:39:10 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:39:10 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:39:10 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:39:10 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:39:10 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:10 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:10 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:10 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:39:10 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:39:11 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:39:11 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:39:11 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:39:17 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65211',
  'REDIRECT_URL' => '/ponto/calendario/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/calendario/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646357.796,
  'REQUEST_TIME' => 1471646357,
)
2016/08/19 19:39:17 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:39:17 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:39:17 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:39:17 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:39:17 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:39:17 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:39:17 [trace] [system.web.filters.CFilterChain] Running filter CalendarioController.filteraccessControl()
2016/08/19 19:39:17 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:39:17 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:39:17 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:17 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:39:17 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:39:17 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:39:17 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:39:22 [info] [application] User: 1 (ID: 1)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"1";s:11:"nome_pessoa";s:13:"Fulano de Tal";s:5:"email";s:16:"fulano@email.com";s:9:"tipo_foto";s:3:"gif";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"1";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 1,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/calendario/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65211',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646362.652,
  'REQUEST_TIME' => 1471646362,
)
2016/08/19 19:39:22 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:39:22 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:39:22 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:39:22 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:39:22 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:39:22 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:39:22 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:39:22 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:39:22 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:39:22 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:39:22 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=1)
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:39:22 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:39:22 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:39:22 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:43:20 [info] [application] User: Visitante (ID: )

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65259',
  'REDIRECT_URL' => '/ponto/tempLogin/sair',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/tempLogin/sair',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646600.731,
  'REQUEST_TIME' => 1471646600,
)
2016/08/19 19:43:20 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:43:20 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:43:20 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:43:20 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:43:20 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:43:20 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:43:20 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:20 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `Orgao` `t` WHERE id_orgao_superior = :id_orgao
2016/08/19 19:43:20 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:43:20 [info] [application] $_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65259',
  'REDIRECT_URL' => '/ponto/tempLogin/login',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/tempLogin/login',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646600.874,
  'REQUEST_TIME' => 1471646600,
)
2016/08/19 19:43:20 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:43:20 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:43:23 [info] [application] $_POST=array (
  'usuario' => '2',
  'senha' => 'usbw',
)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 2,
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'CONTENT_LENGTH' => '20',
  'HTTP_CACHE_CONTROL' => 'max-age=0',
  'HTTP_ORIGIN' => 'http://localhost:8080',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'CONTENT_TYPE' => 'application/x-www-form-urlencoded',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/tempLogin/login',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65262',
  'REDIRECT_URL' => '/ponto/tempLogin/login',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'POST',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/tempLogin/login',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646603.595,
  'REQUEST_TIME' => 1471646603,
)
2016/08/19 19:43:23 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:43:23 [info] [application] User: 2 (ID: 2)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"2";s:11:"nome_pessoa";s:13:"João Chefão";s:5:"email";s:4:"mail";s:9:"tipo_foto";s:3:"jpg";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"2";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_CACHE_CONTROL' => 'max-age=0',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/tempLogin/login',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65262',
  'REDIRECT_URL' => '/ponto/acompanhamento/index',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/index',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646603.7,
  'REQUEST_TIME' => 1471646603,
)
2016/08/19 19:43:23 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:43:23 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:43:23 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:43:23 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:43:23 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `pessoa` `t` WHERE `t`.`id_pessoa`=2 LIMIT 1
2016/08/19 19:43:23 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:43:23 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:43:23 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] Pessoa.findByPk()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `grupo_emprego`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `grupo_emprego`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_pessoa` AS `t0_c0`, `t`.`nome_pessoa` AS `t0_c1`, `t`.`email` AS `t0_c2`, `t`.`tipo_foto` AS `t0_c3`, `DadosFuncionais`.`matricula` AS `t1_c0`, `DadosFuncionais`.`nr_vinculo` AS `t1_c1`, `DadosFuncionais`.`id_pessoa` AS `t1_c2`, `DadosFuncionais`.`regime_trabalho` AS `t1_c3`, `DadosFuncionais`.`id_grupo` AS `t1_c4`, `DadosFuncionais`.`id_categoria` AS `t1_c5`, `DadosFuncionais`.`orgao_lotacao` AS `t1_c6`, `DadosFuncionais`.`orgao_exercicio` AS `t1_c7`, `DadosFuncionais`.`data_ingresso` AS `t1_c8`, `DadosFuncionais`.`data_desligamento` AS `t1_c9`, `DadosFuncionais`.`data_aposentadoria` AS `t1_c10`, `GrupoEmprego`.`id_grupo` AS `t2_c0`, `GrupoEmprego`.`segmento_grupo` AS `t2_c1`, `GrupoEmprego`.`nome_grupo` AS `t2_c2`, `CatFuncional`.`id_categoria` AS `t3_c0`, `CatFuncional`.`nome_categoria` AS `t3_c1`, `CatFuncional`.`regime_trabalho` AS `t3_c2`, `OrgaoLotacao`.`id_orgao` AS `t4_c0`, `OrgaoLotacao`.`sigla_orgao` AS `t4_c1`, `OrgaoLotacao`.`nome_orgao` AS `t4_c2`, `OrgaoLotacao`.`email` AS `t4_c3`, `OrgaoLotacao`.`matricula_dirigente` AS `t4_c4`, `OrgaoLotacao`.`matricula_substituto` AS `t4_c5`, `OrgaoLotacao`.`id_orgao_superior` AS `t4_c6`, `OrgaoExercicio`.`id_orgao` AS `t5_c0`, `OrgaoExercicio`.`sigla_orgao` AS `t5_c1`, `OrgaoExercicio`.`nome_orgao` AS `t5_c2`, `OrgaoExercicio`.`email` AS `t5_c3`, `OrgaoExercicio`.`matricula_dirigente` AS `t5_c4`, `OrgaoExercicio`.`matricula_substituto` AS `t5_c5`, `OrgaoExercicio`.`id_orgao_superior` AS `t5_c6` FROM `pessoa` `t`  inner join `dado_funcional` `DadosFuncionais` ON (`DadosFuncionais`.`id_pessoa`=`t`.`id_pessoa`) AND (coalesce(DadosFuncionais.data_desligamento, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() 
                            and coalesce(DadosFuncionais.data_aposentadoria, DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL 1 DAY)) > CURRENT_TIMESTAMP() )  inner join `grupo_emprego` `GrupoEmprego` ON (`DadosFuncionais`.`id_grupo`=`GrupoEmprego`.`id_grupo`) AND (GrupoEmprego.segmento_grupo = 'T')  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadosFuncionais`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoLotacao` ON (`DadosFuncionais`.`orgao_lotacao`=`OrgaoLotacao`.`id_orgao`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadosFuncionais`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  WHERE (`t`.`id_pessoa`=2)
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select distinct year(data_hora_ponto) ano
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                        order by 1 desc 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select distinct month(data_hora_ponto) mes
                        from v_ponto_e_ajuste
                        where id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo
                            and year(data_hora_ponto) = :ano
                        order by 1 desc 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ch_mes_servidor`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ch_mes_servidor`
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] CargaHorariaMesServidor.find()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `ch_mes_servidor` `t` WHERE id_pessoa = :id_pessoa and nr_vinculo = :nr_vinculo and mes = :mes and ano = :ano LIMIT 1
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT sum(periodo_compensacao)
FROM `compensacao`
WHERE 
                        id_pessoa = :id_pessoa 
                        and nr_vinculo = :nr_vinculo 
                        and coalesce(indicador_certificado, :consideraPedidoEmAnalise) = 'S' -- considera um pedido em analise na contagem
                        and month(data_compensacao) = :mes
                        and year(data_compensacao) = :ano
                        and coalesce(indicador_excluido, 'N') = 'N'
                    
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select dia from calendario_feriados
                where ano = 2016 and mes = 8 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] Abono.findAll()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `abono` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_abono) = :mes
                            and year(data_abono) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S' 
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_abono
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `compensacao`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `compensacao`
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] Compensacao.findAll()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `compensacao` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_compensacao) = :mes
                            and year(data_compensacao) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and coalesce(indicador_excluido, 'N') = 'N' ORDER BY data_compensacao
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `v_ponto_e_ajuste`
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `v_ponto_e_ajuste`
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa 
                            and nr_vinculo = :nr_vinculo
                            and month(data_hora_ponto) = :mes
                            and year(data_hora_ponto) = :ano
                            and coalesce(indicador_certificado, 'S') = 'S'
                            and (tipo = 'A'
                                or (tipo = 'R' and not exists (
                                        select 1 from ajuste A
                                        where A.nr_ponto = nr_seq
                                    )
                            ))   ORDER BY data_hora_ponto
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT 
                    F.cod_frequencia, TF.nome_frequencia, 
                    F.data_frequencia, F.data_fim_frequencia, F.nr_dias, 
                    DATE_FORMAT(F.data_frequencia, '%d/%m/%Y') data_inicio,
                    DATE_FORMAT(F.data_fim_frequencia, '%d/%m/%Y') data_fim,
                    (DATEDIFF(F.data_fim_frequencia, F.data_frequencia) + 1)
                    -((DATEDIFF(F.data_fim_frequencia, F.data_frequencia) DIV 7) * 2)
                    -(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
                    -(case when DAYOFWEEK(F.data_fim_frequencia) = 7 then 1 else 0 end) -- sabado
                    -(
                        select count(*)
                        from calendario_feriados
                        where
                            DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
                            and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                between F.data_frequencia and F.data_fim_frequencia
                    ) as nr_dias_uteis,
                    (case when F.data_frequencia > CURRENT_TIMESTAMP() then 0 else
						(DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) + 1)
						-((DATEDIFF((case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end), F.data_frequencia) DIV 7) * 2)
						-(case when DAYOFWEEK(F.data_frequencia) = 1 then 1 else 0 end) -- domingo
						-(case when DAYOFWEEK(case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end) = 7 then 1 else 0 end) -- sabado
						-(
							select count(*)
							from calendario_feriados
							where
                                DAYOFWEEK(cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)) not in (1, 7)
								and cast(cast(ano as char(4)) + '-' + LTRIM(cast(mes as char(2))) + '-' + LTRIM(cast(Dia as char(2))) as datetime)
                                    between F.data_frequencia and (case when F.data_fim_frequencia > CURRENT_TIMESTAMP() then CURRENT_TIMESTAMP() else F.data_fim_frequencia end)
						)
					end) as NrDiasUteisAteHoje
                FROM pessoa AS P 
                    INNER JOIN dado_funcional AS DF ON 
                        P.id_pessoa = DF.id_pessoa 
                    INNER JOIN frequencia AS F ON 
                        DF.nr_vinculo = F.nr_vinculo AND DF.matricula = F.matricula
                    INNER JOIN tipo_frequencia AS TF ON 
                        F.cod_frequencia = TF.cod_frequencia 
                WHERE  
                    DF.matricula = :matricula
                    and DF.nr_vinculo = :nr_vinculo
                    and Year(F.data_frequencia) = :ano
                    and Month(F.data_frequencia) = :mes
                ORDER BY 
                    F.data_frequencia
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and DATE_FORMAT(data_hora_ponto, '%d/%m/%Y') = '19/08/2016'  ORDER BY data_hora_ponto
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_abono, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and DATE_FORMAT(data_compensacao, '%d/%m/%Y') = '19/08/2016' 
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and data_hora_ponto between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP()  ORDER BY data_hora_ponto
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_abono between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and data_compensacao between 
                            (case
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 0 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -1 DAY) -- segunda
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 1 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -2 DAY) -- terca
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 2 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -3 DAY) -- quarta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 3 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -4 DAY) -- quinta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 4 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -5 DAY) -- sexta
                                when WEEKDAY(CURRENT_TIMESTAMP()) = 5 then DATE_ADD(CURRENT_TIMESTAMP(), INTERVAL -6 DAY) -- sabado
                                else CURRENT_TIMESTAMP()
                            end)
                            and CURRENT_TIMESTAMP() 
2016/08/19 19:43:23 [trace] [system.db.ar.CActiveRecord] PontoEAjuste.findAll()
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: SELECT data_hora_ponto, entrada_saida FROM `v_ponto_e_ajuste` `t` WHERE id_pessoa = :id_pessoa
                            and nr_vinculo = :nr_vinculo 
                            and (tipo = 'R' or 
                            (tipo = 'A' and coalesce(indicador_certificado, 'N') = 'S'))
                             and month(data_hora_ponto) = 8  ORDER BY data_hora_ponto
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_abono)
                from abono
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_abono) = 8 
2016/08/19 19:43:23 [trace] [system.db.CDbCommand] Querying SQL: select sum(periodo_compensacao)
                from compensacao
                where
                    id_pessoa = :id_pessoa
                    and nr_vinculo = :nr_vinculo
                    and coalesce(indicador_certificado, 'N') = 'S'
                    and coalesce(indicador_excluido, 'N') = 'N'
                     and month(data_compensacao) = 8 
2016/08/19 19:43:23 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:43:30 [info] [application] User: 2 (ID: 2)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"2";s:11:"nome_pessoa";s:13:"João Chefão";s:5:"email";s:4:"mail";s:9:"tipo_foto";s:3:"jpg";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"2";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/index',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65264',
  'REDIRECT_URL' => '/ponto/acompanhamento/acompanhamentoChefia',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/acompanhamento/acompanhamentoChefia',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646610.059,
  'REQUEST_TIME' => 1471646610,
)
2016/08/19 19:43:30 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:43:30 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:43:30 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:43:30 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:43:30 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:43:30 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:43:30 [trace] [system.web.filters.CFilterChain] Running filter AcompanhamentoController.filteraccessControl()
2016/08/19 19:43:30 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:43:30 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:43:30 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:43:30 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:43:30 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:43:30 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:43:30 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:30 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:43:30 [trace] [system.CModule] Loading "assetManager" application component
2016/08/19 19:43:34 [info] [application] User: 2 (ID: 2)

$_COOKIE=array (
  '_csrf' => '47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba:2:{i:0;s:5:"_csrf";i:1;s:32:"8bDZiY6mxRb2r-PSYA0EmNeQCFP379LS";}',
  'storyMenuHidden' => '0',
  '_identity' => 'a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba:2:{i:0;s:9:"_identity";i:1;s:46:"[1,"8c278462dc2f486dd9697edc17eff391",2592000]";}',
  'PHPSESSID' => 'telm4nip6d31atercaum9fc3i7',
  'PontoUFRGS' => 'telm4nip6d31atercaum9fc3i7',
)

$_SESSION=array (
  'id_pessoa' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__dadosPessoa' => 'O:6:"Pessoa":12:{s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_md";N;s:19:"' . "\0" . 'CActiveRecord' . "\0" . '_new";b:0;s:26:"' . "\0" . 'CActiveRecord' . "\0" . '_attributes";a:4:{s:9:"id_pessoa";s:1:"2";s:11:"nome_pessoa";s:13:"João Chefão";s:5:"email";s:4:"mail";s:9:"tipo_foto";s:3:"jpg";}s:23:"' . "\0" . 'CActiveRecord' . "\0" . '_related";a:0:{}s:17:"' . "\0" . 'CActiveRecord' . "\0" . '_c";N;s:18:"' . "\0" . 'CActiveRecord' . "\0" . '_pk";s:1:"2";s:21:"' . "\0" . 'CActiveRecord' . "\0" . '_alias";s:1:"t";s:15:"' . "\0" . 'CModel' . "\0" . '_errors";a:0:{}s:19:"' . "\0" . 'CModel' . "\0" . '_validators";N;s:17:"' . "\0" . 'CModel' . "\0" . '_scenario";s:6:"update";s:14:"' . "\0" . 'CComponent' . "\0" . '_e";N;s:14:"' . "\0" . 'CComponent' . "\0" . '_m";N;}',
  'c626f7dd8b3498c04da53f492c82dbe6__id' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__name' => 2,
  'c626f7dd8b3498c04da53f492c82dbe6__states' => 
  array (
  ),
)

$_SERVER=array (
  'REDIRECT_STATUS' => '200',
  'HTTP_HOST' => 'localhost:8080',
  'HTTP_CONNECTION' => 'keep-alive',
  'HTTP_UPGRADE_INSECURE_REQUESTS' => '1',
  'HTTP_USER_AGENT' => 'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/52.0.2743.116 Safari/537.36',
  'HTTP_ACCEPT' => 'text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,*/*;q=0.8',
  'HTTP_REFERER' => 'http://localhost:8080/ponto/acompanhamento/acompanhamentoChefia',
  'HTTP_ACCEPT_ENCODING' => 'gzip, deflate, sdch',
  'HTTP_ACCEPT_LANGUAGE' => 'pt-BR,pt;q=0.8,en-US;q=0.6,en;q=0.4',
  'HTTP_COOKIE' => '_csrf=47333894c5bb29d8708be6e9a1fc6127003742d061a45ecf84b96ad3c5a4200ba%3A2%3A%7Bi%3A0%3Bs%3A5%3A%22_csrf%22%3Bi%3A1%3Bs%3A32%3A%228bDZiY6mxRb2r-PSYA0EmNeQCFP379LS%22%3B%7D; storyMenuHidden=0; _identity=a9bf0e21786445b56e910b0ca28df106b70b94ae5b7f54f8728003154a62261ba%3A2%3A%7Bi%3A0%3Bs%3A9%3A%22_identity%22%3Bi%3A1%3Bs%3A46%3A%22%5B1%2C%228c278462dc2f486dd9697edc17eff391%22%2C2592000%5D%22%3B%7D; PHPSESSID=telm4nip6d31atercaum9fc3i7; PontoUFRGS=telm4nip6d31atercaum9fc3i7',
  'PATH' => 'C:\\ProgramData\\Oracle\\Java\\javapath;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files (x86)\\Common Files\\lenovo\\easyplussdk\\bin;C:\\Program Files (x86)\\Skype\\Phone\\;C:\\Program Files\\TortoiseSVN\\bin;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\wamp\\bin\\php\\php5.5.12;C:\\ProgramData\\ComposerSetup\\bin',
  'SystemRoot' => 'C:\\WINDOWS',
  'COMSPEC' => 'C:\\WINDOWS\\system32\\cmd.exe',
  'PATHEXT' => '.COM;.EXE;.BAT;.CMD;.VBS;.VBE;.JS;.JSE;.WSF;.WSH;.MSC',
  'WINDIR' => 'C:\\WINDOWS',
  'SERVER_SIGNATURE' => '',
  'SERVER_SOFTWARE' => 'Apache/2.4.6 (Win32) PHP/5.4.17',
  'SERVER_NAME' => 'localhost',
  'SERVER_ADDR' => '::1',
  'SERVER_PORT' => '8080',
  'REMOTE_ADDR' => '::1',
  'DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'REQUEST_SCHEME' => 'http',
  'CONTEXT_PREFIX' => '',
  'CONTEXT_DOCUMENT_ROOT' => 'C:/Users/thiago/Desktop/USBWebserver/root',
  'SERVER_ADMIN' => 'mail@localhost',
  'SCRIPT_FILENAME' => 'C:/Users/thiago/Desktop/USBWebserver/root/ponto/index.php',
  'REMOTE_PORT' => '65264',
  'REDIRECT_URL' => '/ponto/ajuste/pedidosAvaliacao',
  'GATEWAY_INTERFACE' => 'CGI/1.1',
  'SERVER_PROTOCOL' => 'HTTP/1.1',
  'REQUEST_METHOD' => 'GET',
  'QUERY_STRING' => '',
  'REQUEST_URI' => '/ponto/ajuste/pedidosAvaliacao',
  'SCRIPT_NAME' => '/ponto/index.php',
  'PHP_SELF' => '/ponto/index.php',
  'REQUEST_TIME_FLOAT' => 1471646614.339,
  'REQUEST_TIME' => 1471646614,
)
2016/08/19 19:43:34 [trace] [system.CModule] Loading "log" application component
2016/08/19 19:43:34 [trace] [system.CModule] Loading "request" application component
2016/08/19 19:43:34 [trace] [system.CModule] Loading "urlManager" application component
2016/08/19 19:43:34 [trace] [system.web.filters.CFilterChain] Running filter Sessao.filter()
2016/08/19 19:43:34 [trace] [system.CModule] Loading "user" application component
2016/08/19 19:43:34 [trace] [system.CModule] Loading "session" application component
2016/08/19 19:43:34 [trace] [system.web.filters.CFilterChain] Running filter AjusteController.filteraccessControl()
2016/08/19 19:43:34 [trace] [system.CModule] Loading "db" application component
2016/08/19 19:43:34 [trace] [system.db.CDbConnection] Opening DB connection
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `Orgao`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `Orgao`
2016/08/19 19:43:34 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `dado_funcional`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `dado_funcional`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:43:34 [trace] [system.CModule] Loading "seguranca" application component
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `pessoa`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `pessoa`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `permissao`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `permissao`
2016/08/19 19:43:34 [trace] [system.db.ar.CActiveRecord] Permissao.find()
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT * FROM `permissao` `t` WHERE id_pessoa = :id_pessoa AND id_aplicacao = :id_aplicacao AND data_expiracao IS NULL LIMIT 1
2016/08/19 19:43:34 [trace] [system.CModule] Loading "clientScript" application component
2016/08/19 19:43:34 [trace] [system.db.ar.CActiveRecord] Orgao.findAll()
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT `t`.`id_orgao` AS `t0_c0`, `t`.`sigla_orgao` AS `t0_c1`, `t`.`nome_orgao` AS `t0_c2`, `t`.`email` AS `t0_c3`, `t`.`matricula_dirigente` AS `t0_c4`, `t`.`matricula_substituto` AS `t0_c5`, `t`.`id_orgao_superior` AS `t0_c6`, `DirigenteOrgao`.`matricula` AS `t1_c0`, `DirigenteOrgao`.`nr_vinculo` AS `t1_c1`, `DirigenteOrgao`.`id_pessoa` AS `t1_c2`, `DirigenteOrgao`.`regime_trabalho` AS `t1_c3`, `DirigenteOrgao`.`id_grupo` AS `t1_c4`, `DirigenteOrgao`.`id_categoria` AS `t1_c5`, `DirigenteOrgao`.`orgao_lotacao` AS `t1_c6`, `DirigenteOrgao`.`orgao_exercicio` AS `t1_c7`, `DirigenteOrgao`.`data_ingresso` AS `t1_c8`, `DirigenteOrgao`.`data_desligamento` AS `t1_c9`, `DirigenteOrgao`.`data_aposentadoria` AS `t1_c10`, `DirigenteSubstituto`.`matricula` AS `t2_c0`, `DirigenteSubstituto`.`nr_vinculo` AS `t2_c1`, `DirigenteSubstituto`.`id_pessoa` AS `t2_c2`, `DirigenteSubstituto`.`regime_trabalho` AS `t2_c3`, `DirigenteSubstituto`.`id_grupo` AS `t2_c4`, `DirigenteSubstituto`.`id_categoria` AS `t2_c5`, `DirigenteSubstituto`.`orgao_lotacao` AS `t2_c6`, `DirigenteSubstituto`.`orgao_exercicio` AS `t2_c7`, `DirigenteSubstituto`.`data_ingresso` AS `t2_c8`, `DirigenteSubstituto`.`data_desligamento` AS `t2_c9`, `DirigenteSubstituto`.`data_aposentadoria` AS `t2_c10` FROM `Orgao` `t`  LEFT OUTER JOIN `dado_funcional` `DirigenteOrgao` ON (`t`.`matricula_dirigente`=`DirigenteOrgao`.`matricula`)  LEFT OUTER JOIN `dado_funcional` `DirigenteSubstituto` ON (`t`.`matricula_substituto`=`DirigenteSubstituto`.`matricula`)  WHERE (DirigenteOrgao.id_pessoa = :id_pessoa or DirigenteSubstituto.id_pessoa = :id_pessoa2 )
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `ajuste`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `ajuste`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `abono`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `abono`
2016/08/19 19:43:34 [trace] [system.CModule] Loading "widgetFactory" application component
2016/08/19 19:43:34 [trace] [system.db.ar.CActiveRecord] Ajuste.count()
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `categoria`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `categoria`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `justificativa_ajuste`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `justificativa_ajuste`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW FULL COLUMNS FROM `arquivo_ajuste`
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SHOW CREATE TABLE `arquivo_ajuste`
2016/08/19 19:43:34 [trace] [system.db.ar.CActiveRecord] Ajuste.count() eagerly
2016/08/19 19:43:34 [trace] [system.db.CDbCommand] Querying SQL: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  WHERE (
                t.data_hora_certificacao is null 
                and coalesce(t.indicador_excluido, 'N') = 'N'
                and t.id_pessoa <> :id_pessoa1
                and DadoFuncional.orgao_exercicio in (
                    select id_orgao from fn_hierarquia_orgao_funcoes_pessoa (:id_pessoa2) 
                    union
                    select id_orgao from fn_permissoes (:id_pessoa3, 'RH', 'rh702',null) 
                    union
                    select id_orgao 
                    from TABELAS_AUXILIARES..ADOrgaoDirigenteExercicio TAUX
                        inner join SERVIDOR S on S.matricula = TAUX.matricula  
                    where S.id_pessoa = :id_pessoa4 
                ))
2016/08/19 19:43:34 [trace] [system.CModule] Loading "coreMessages" application component
2016/08/19 19:43:34 [error] [system.db.CDbCommand] Falha ao executar CDbCommand::fetchColumn(): SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '('2') 
                    union
                    select id_orgao from fn_per' at line 6. A declaração SQL executada foi: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  WHERE (
                t.data_hora_certificacao is null 
                and coalesce(t.indicador_excluido, 'N') = 'N'
                and t.id_pessoa <> :id_pessoa1
                and DadoFuncional.orgao_exercicio in (
                    select id_orgao from fn_hierarquia_orgao_funcoes_pessoa (:id_pessoa2) 
                    union
                    select id_orgao from fn_permissoes (:id_pessoa3, 'RH', 'rh702',null) 
                    union
                    select id_orgao 
                    from TABELAS_AUXILIARES..ADOrgaoDirigenteExercicio TAUX
                        inner join SERVIDOR S on S.matricula = TAUX.matricula  
                    where S.id_pessoa = :id_pessoa4 
                )).
2016/08/19 19:43:34 [error] [exception.CDbException] exception 'CDbException' with message 'CDbCommand falhou ao executar o comando SQL: SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '('2') 
                    union
                    select id_orgao from fn_per' at line 6. The SQL statement executed was: SELECT COUNT(DISTINCT `t`.`nr_ajuste`) FROM `ajuste` `t`  LEFT OUTER JOIN `pessoa` `Pessoa` ON (`t`.`id_pessoa`=`Pessoa`.`id_pessoa`)  LEFT OUTER JOIN `dado_funcional` `DadoFuncional` ON (`t`.`matricula`=`DadoFuncional`.`matricula`) AND (`t`.`nr_vinculo`=`DadoFuncional`.`nr_vinculo`)  LEFT OUTER JOIN `categoria` `CatFuncional` ON (`DadoFuncional`.`id_categoria`=`CatFuncional`.`id_categoria`)  LEFT OUTER JOIN `Orgao` `OrgaoExercicio` ON (`DadoFuncional`.`orgao_exercicio`=`OrgaoExercicio`.`id_orgao`)  LEFT OUTER JOIN `justificativa_ajuste` `JustificativaAjuste` ON (`t`.`nr_justificativa`=`JustificativaAjuste`.`nr_justificativa`)  LEFT OUTER JOIN `arquivo_ajuste` `Arquivos` ON (`Arquivos`.`nr_ajuste`=`t`.`nr_ajuste`)  LEFT OUTER JOIN `pessoa` `Certificador` ON (`t`.`id_pessoa_certificacao`=`Certificador`.`id_pessoa`)  WHERE (
                t.data_hora_certificacao is null 
                and coalesce(t.indicador_excluido, 'N') = 'N'
                and t.id_pessoa <> :id_pessoa1
                and DadoFuncional.orgao_exercicio in (
                    select id_orgao from fn_hierarquia_orgao_funcoes_pessoa (:id_pessoa2) 
                    union
                    select id_orgao from fn_permissoes (:id_pessoa3, 'RH', 'rh702',null) 
                    union
                    select id_orgao 
                    from TABELAS_AUXILIARES..ADOrgaoDirigenteExercicio TAUX
                        inner join SERVIDOR S on S.matricula = TAUX.matricula  
                    where S.id_pessoa = :id_pessoa4 
                ))' in C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\CDbCommand.php:541
Stack trace:
#0 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\CDbCommand.php(432): CDbCommand->queryInternal('fetchColumn', 0, Array)
#1 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveFinder.php(718): CDbCommand->queryScalar()
#2 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveFinder.php(151): CJoinElement->count(Object(CDbCriteria))
#3 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\db\ar\CActiveRecord.php(1550): CActiveFinder->count(Object(CDbCriteria))
#4 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CActiveDataProvider.php(179): CActiveRecord->count(Object(CDbCriteria))
#5 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CDataProvider.php(224): CActiveDataProvider->calculateTotalItemCount()
#6 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CActiveDataProvider.php(129): CDataProvider->getTotalItemCount()
#7 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CDataProvider.php(168): CActiveDataProvider->fetchData()
#8 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\zii\widgets\CBaseListView.php(107): CDataProvider->getData()
#9 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\zii\widgets\grid\CGridView.php(314): CBaseListView->init()
#10 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CBaseController.php(147): CGridView->init()
#11 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CBaseController.php(172): CBaseController->createWidget('zii.widgets.gri...', Array)
#12 C:\Users\thiago\Desktop\USBWebserver\root\ponto\protected\views\ajuste\pedidosAvaliacao.php(57): CBaseController->widget('zii.widgets.gri...', Array)
#13 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CBaseController.php(126): require('C:\Users\thiago...')
#14 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CBaseController.php(95): CBaseController->renderInternal('C:\Users\thiago...', Array, true)
#15 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(869): CBaseController->renderFile('C:\Users\thiago...', Array, true)
#16 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(782): CController->renderPartial('pedidosAvaliaca...', Array, true)
#17 C:\Users\thiago\Desktop\USBWebserver\root\ponto\protected\controllers\AjusteController.php(286): CController->render('pedidosAvaliaca...', Array)
#18 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\actions\CInlineAction.php(49): AjusteController->actionPedidosAvaliacao()
#19 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(308): CInlineAction->runWithParams(Array)
#20 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilterChain.php(133): CController->runAction(Object(CInlineAction))
#21 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilter.php(40): CFilterChain->run()
#22 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(1145): CFilter->filter(Object(CFilterChain))
#23 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CInlineFilter.php(58): CController->filterAccessControl(Object(CFilterChain))
#24 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilterChain.php(130): CInlineFilter->filter(Object(CFilterChain))
#25 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilter.php(40): CFilterChain->run()
#26 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\filters\CFilterChain.php(130): CFilter->filter(Object(CFilterChain))
#27 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(291): CFilterChain->run()
#28 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CController.php(265): CController->runActionWithFilters(Object(CInlineAction), Array)
#29 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CWebApplication.php(282): CController->run('pedidosavaliaca...')
#30 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\web\CWebApplication.php(141): CWebApplication->runController('ajuste/pedidosA...')
#31 C:\Users\thiago\Desktop\USBWebserver\root\yii\framework\base\CApplication.php(169): CWebApplication->processRequest()
#32 C:\Users\thiago\Desktop\USBWebserver\root\ponto\index.php(15): CApplication->run()
#33 {main}
REQUEST_URI=/ponto/ajuste/pedidosAvaliacao
HTTP_REFERER=http://localhost:8080/ponto/acompanhamento/acompanhamentoChefia
---
2016/08/19 19:43:34 [trace] [system.CModule] Loading "errorHandler" application component
